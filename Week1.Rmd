---
title: "Causes of Death "
subtitle: "Presentation"
author: "Min Min Soh"
institute: "Department of Econometrics and Business Statistics"
output:
  xaringan::moon_reader:
    lib_dir: libs
    css: css/style.css
    yolo: FALSE
---


```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
```

```{r , echo = FALSE, message = FALSE, warning = FALSE}
library(tidyverse)
library(datasets)
library(kableExtra)
```


class: center, middle

# Introduction 

Research Questions 

```{r read_csv, echo = FALSE, message = FALSE, warning = FALSE}
Deaths <- read_csv("Data/annual-number-of-deaths-by-cause.csv")
```

---

# Deaths - HIV/AIDS

- .blue[How is the death rates of **HIV / AIDS** change in the world ? ]
- .blue[What is the top 5 countries with the highest death rates from HIV / AIDS ? ]
- .blue[What are the preventive measures for HIV / AIDS ? ]


---

.content-box-soft[ 
Deaths rates from HIV/AIDS in the world
]

```{r HIV_AIDS,  echo = FALSE, message = FALSE, warning = FALSE }

HIV_AIDS <- Deaths %>% 
  select( Entity, Code, Year, `Deaths - HIV/AIDS - Sex: Both - Age: All Ages (Number)`) %>%
  rename(Deaths_HIV_AIDS = `Deaths - HIV/AIDS - Sex: Both - Age: All Ages (Number)` )%>%
  filter(!is.na(Deaths_HIV_AIDS))
                
                 
```


```{r World_trend, echo = FALSE, message = FALSE, warning = FALSE }
HIV_AIDS %>% filter (Entity == "World")%>%
  mutate(round_Deaths_HIV_AIDS = Deaths_HIV_AIDS/1000)%>%
  ggplot(aes(x= Year, 
             y = round_Deaths_HIV_AIDS))+
  geom_line(linetype = "dashed", color = "blue", size =1 ) +
  geom_point(color = "blue", size = 3)+
  labs(y = "Number of Deaths from HIV/AIDS per 100,000 people",
       x = "Year")+
  ggtitle("Deaths rates from HIV/AIDS")+
  theme_minimal()

```

---
class: left, top


.content-box-soft[ 
Top 5 countries with the average highest death rates from HIV / AIDS
]

```{r average_HIV,   echo = FALSE, message = FALSE, warning = FALSE}
#disable scientific notation
options(scipen=999)

#calculate average death rates per nation
HIV_AIDS_nation <- HIV_AIDS %>% 
  filter(!Entity %in% c("Asia", "African Region", "Central Asia", "Central Europe", "Central Europe, Eastern Europe, and Central Asia",
                        "Central Latin America", "Central sub-Saharan Africa", "Commonwealth High Income", "Commonwealth Low Income", 
                        "Commonwealth Middle Income" , "East Asia","East Asia & Pacific - World Bank region", "Eastern Europe", 
                        "Eastern Mediterranean Region", "Eastern sub-Saharan Africa" ,"Europe & Central Asia - World Bank region", 
                        "European Region", "European Union" , "G20", "Low SDI", "High SDI", "Low-middle SDI",  "High-income", 
                        "High-income Asia Pacific", "High-income North America" , "High-middle SDI","Latin America & Caribbean - World Bank region" ,
                        "Middle SDI","Commonwealth", "African Union", "Southern sub-Saharan Africa", "Region of the Americas",
                        "South-East Asia Region" , "Southeast Asia","Southeast Asia, East Asia, and Oceania", "South Asia - World Bank region",
                        "Sub-Saharan Africa - World Bank region" , "Western Europe", "Western Pacific Region" , "Western sub-Saharan Africa", 
                        "World" , "World Bank High Income", "World Bank Low Income","World Bank Lower Middle Income" ,
                        "World Bank Upper Middle Income"))

mean_HIV_AIDS <- HIV_AIDS_nation %>% 
  group_by(Entity)  %>% 
  summarise(`Average Death Rates from HIV/AIDS` =  mean(Deaths_HIV_AIDS, na.rm = TRUE)) %>%
  arrange(-`Average Death Rates from HIV/AIDS`)

mean_HIV_AIDS <- mean_HIV_AIDS %>% 
  mutate_if(is.numeric, round, digits=0)

mean_HIV_AIDS <- head(mean_HIV_AIDS,5)

knitr::kable(mean_HIV_AIDS,
             col.names = gsub("[.]", " ",
                              names(mean_HIV_AIDS)))


```

---

.content-box-soft[ 
Antiretroviral therapy (ART) introduced in 1980s
]

```{r ART, echo = FALSE, message = FALSE, warning = FALSE}
ART <- read_csv("Data/hivaids-deaths-and-averted-due-to-art.csv")

ART  %>% filter (Entity %in% c( "Africa", "South Africa", "Kenya","Tanzania", "India"  ))%>%
  mutate(Deaths_averted = `Deaths averted due to ART - estimate`/1000)  %>%
   ggplot(aes(x= Year, 
             y = Deaths_averted, 
             colour = Entity))+
  geom_line(linetype = "dashed", size =1 ) +
  geom_point( size = 2)+
  labs(y = "Number of HIV/AIDS deaths averted per 100,000 people",
       x = "Year")+
  ggtitle("Number of HIV/AIDS deaths averted due to ART")+
  theme_minimal()



```


---

```{r endslide, child="EndSlide/endslide.Rmd"}
```  

